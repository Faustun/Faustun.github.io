<!DOCTYPE html>
<html>

<head>
    <title>Song Zhiguo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.6.0">
    <link rel="stylesheet" href="./lib/css/animate.css">
    <style>
        @font-face {
            font-family: "foundation-icons";
            src: url("./lib/fonts/foundation-icons.eot");
            src: url("./lib/fonts/foundation-icons.eot?#iefix") format("embedded-opentype"), url("./lib/fonts/foundation-icons.woff") format("woff"), url("./lib/fonts/foundation-icons.ttf") format("truetype"), url("./lib/fonts/foundation-icons.svg#fontcustom") format("svg");
            font-weight: normal;
            font-style: normal
        }

        .icon:before {
            font-family: "foundation-icons";
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            text-transform: none;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            display: inline-block;
            text-decoration: inherit
        }

        .icon-list:before {
            content: "\f169"
        }

        .icon-social-github:before {
            content: "\f1c9"
        }

        .icon-x-circle:before {
            content: "\f216"
        }

        body {
            font-family: "Raleway", Verdana, sans-serif, 宋体, serif, "Droid Serif", Helvetica Neue, Helvetica, Arial;
            font-size: 1em;
            color: #666
        }

        h1 {
            margin-top: 0;
            font-size: 3.2em;
            line-height: 1.2em;
            letter-spacing: .05em
        }

        ol li,
        ul li {
            margin: 0 0 .2em 0;
            line-height: 1.6em
        }

        a {
            text-decoration: none;
            color: #069
        }

        .hidden {
            display: none!important
        }

        #wrapper {
            z-index: 1;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-image: url(./images/bg.jpg);
            background-size: cover;
            background-position: center center
        }

        #canvas {
            z-index: 1;
            position: absolute;
            left: 0;
            top: 0
        }

        .wrapper-main {
            display: table;
            width: 100%;
            height: 100%
        }

        .wrapper-main-inner {
            display: table-cell;
            vertical-align: middle;
            position: relative;
            z-index: 800;
            padding: 0 60px
        }

        .wrapper-inverted {
            font-weight: 100;
            text-align: center;
            color: #FFF;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.4)
        }

        .wrapper-main-content {
            max-width: 620px;
            margin: 0 auto
        }

        .wrapper-title {
            margin: 0 0 10px 0;
            font-size: 2.5em;
            letter-spacing: 4px;
            color: #FFF
        }

        @media(max-width:1100px) {
            .wrapper-title {
                font-size: 2em;
                margin-bottom: 10px
            }
        }

        .wrapper-cover__divider {
            width: 50%;
            margin: 20px auto;
            border-top: 1px solid rgba(255, 255, 255, 0.14)
        }

        .cover-navigation {
            margin-top: 10px
        }

        nav {
            display: inline-block;
            position: relative
        }

        .navigation {
            float: left;
            position: relative;
            margin: 0;
            list-style-type: none
        }

        .navigation__item {
            display: inline-block;
            margin: 3px 3px;
            line-height: 1em
        }

        .navigation__item a {
            display: block;
            position: relative;
            border-color: #FFF;
            color: #FFF;
            opacity: .8;
            padding: 10px 20px;
            border: 1px solid #fff;
            border-radius: 20px;
            font-size: .9em;
            font-weight: bold;
            letter-spacing: 1px;
            text-shadow: none;
            -webkit-font-smoothing: antialiased
        }

        .navigation--social a {
            padding: 6px 8px 6px 9px
        }

        .navigation--social a .label {
            display: none
        }

        .label {
            position: relative;
            display: inline-block;
            padding: 8px 18px 9px 18px;
            background: #069;
            border-radius: 3px;
            text-align: center;
            color: #FFF
        }

        .navigation--social a .icon {
            display: block;
            font-size: 1.7em
        }

        .btn-mobile-menu {
            display: none;
            position: fixed;
            z-index: 9999;
            top: 0;
            right: 0;
            left: 0;
            width: 100%;
            height: 42px;
            background: rgba(13, 71, 77, 0.98);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center
        }

        .btn-mobile-menu__icon,
        .btn-mobile-close__icon {
            position: relative;
            top: 3px;
            font-size: 36px;
            color: #FFF
        }

        @media(max-width:960px) {
            .navigation-wrapper {
                display: none;
                position: fixed;
                top: 42px;
                right: 0;
                left: 0;
                width: 100%;
                padding: 20px 0;
                background: rgba(51, 51, 51, 0.8);
                border-bottom: 1px solid rgba(255, 255, 255, 0.15)
            }
            .cover-navigation {
                display: block;
                position: relative;
                float: left;
                clear: left;
                width: 100%
            }
            .cover-navigation .navigation {
                display: block;
                width: 100%
            }
            .navigation__item {
                width: 100%;
                margin: 0 0 .4em 0
            }
            .cover-navigation .navigation li {
                width: 80%;
                margin-bottom: .4em
            }
            .cover-navigation.navigation--social .navigation li {
                display: inline-block;
                width: 25.8%
            }
            .btn-mobile-menu {
                display: block
            }
            .navigation-wrapper.visible {
                display: block
            }
        }
    </style>
</head>

<body>
    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>
    <div id="wrapper">
        <div class="wrapper-main">
            <div class="wrapper-main-inner wrapper-inverted">
                <div class="wrapper-main-content">
                    <h1 class="wrapper-cover-title wrapper-title">Song Zhiguo</h1>
                    <span>inspired by iscroll, and it has a better scroll perfermance</span>
                    <hr class="wrapper-cover__divider">
                    <div class="navigation-wrapper">
                        <nav class="cover-navigation cover-navigation--primary">
                            <ul class="navigation">
                                <li class="navigation__item">
                                    <a href="https://songzhiguo.github.io/blogs/">博客</a>
                                </li>
                            </ul>
                        </nav>
                        <nav class="cover-navigation navigation--social">
                            <ul class="navigation">
                                <li class="navigation__item">
                                    <a href="https://github.com/Songzhiguo">
                                        <i class="icon icon-social-github"></i>
                                        <span class="label">GitHub</span>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>

        </div>
        <canvas id="canvas"></canvas>
    </div>
    <script src="./lib/js/jquery-3.2.1.min.js"></script>
    <script>
        (function () {
            var lastTime = 0;
            var vendors = ['ms', 'moz', 'webkit', 'o'];
            for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
                window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
                window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']
                    || window[vendors[x] + 'CancelRequestAnimationFrame'];
            }

            if (!window.requestAnimationFrame)
                window.requestAnimationFrame = function (callback, element) {
                    var currTime = new Date().getTime();
                    var timeToCall = Math.max(0, 16 - (currTime - lastTime));
                    var id = window.setTimeout(function () { callback(currTime + timeToCall); },
                        timeToCall);
                    lastTime = currTime + timeToCall;
                    return id;
                };

            if (!window.cancelAnimationFrame)
                window.cancelAnimationFrame = function (id) {
                    clearTimeout(id);
                };
        }());
        (function () {

            var width, height, canvas, ctx, circles, target, animateHeader = true;

            // Main
            initHeader();
            addListeners();

            function initHeader() {
                width = window.innerWidth;
                height = window.innerHeight;
                target = { x: 0, y: height };

                canvas = document.getElementById('canvas');
                canvas.width = width;
                canvas.height = height;
                ctx = canvas.getContext('2d');

                // create particles
                circles = [];
                for (var x = 0; x < width * 0.5; x++) {
                    var c = new Circle();
                    circles.push(c);
                }
                animate();
            }

            // Event handling
            function addListeners() {
                window.addEventListener('scroll', scrollCheck);
                window.addEventListener('resize', resize);
            }

            function scrollCheck() {
                if (document.body.scrollTop > height) animateHeader = false;
                else animateHeader = true;
            }

            function resize() {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
            }

            function animate() {
                if (animateHeader) {
                    ctx.clearRect(0, 0, width, height);
                    for (var i in circles) {
                        circles[i].draw();
                    }
                }
                requestAnimationFrame(animate);
            }

            // Canvas manipulation
            function Circle() {
                var _this = this;

                // constructor
                (function () {
                    _this.pos = {};
                    init();
                })();

                function init() {
                    _this.pos.x = Math.random() * width;
                    _this.pos.y = height + Math.random() * 100;
                    _this.alpha = 0.1 + Math.random() * 0.3;
                    _this.scale = 0.1 + Math.random() * 0.3;
                    _this.velocity = Math.random();
                }

                this.draw = function () {
                    if (_this.alpha <= 0) {
                        init();
                    }
                    _this.pos.y -= _this.velocity;
                    _this.alpha -= 0.0005;
                    ctx.beginPath();
                    ctx.arc(_this.pos.x, _this.pos.y, _this.scale * 10, 0, 2 * Math.PI, false);
                    ctx.fillStyle = 'rgba(255,255,255,' + _this.alpha + ')';
                    ctx.fill();
                };
            }

        })(); 
    </script>
    <script>
        $('.btn-mobile-menu').click(function () {
            $('.navigation-wrapper').toggleClass('visible animated fadeInDown');
            $('.btn-mobile-menu__icon').toggleClass('icon-list icon-x-circle animated fadeIn');
        });
        $('.navigation-wrapper .blog-button').click(function () {
            $('.btn-mobile-menu__icon').toggleClass('icon-list icon-x-circle animated fadeIn');
        });
    </script>
</body>

</html>